<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>충북대학교 타우루스</title>
</head>
<body>
  <!-- 상단 로고 및 팀 이름 -->
  <header class="main-header">
    <img src="logo.png" alt="타우루스 로고" class="team-logo">
    <h1 class="team-name">충북대학교 타우루스</h1>
  </header>

  <!-- 다음 경기 및 최근 경기 정보 영역 -->
  <main class="match-container">
    <section id="next-match" class="match-box">
      <h2>다음 경기</h2>
      <div class="match-info">로딩 중...</div>
    </section>
    <section id="recent-match" class="match-box">
      <h2>최근 경기</h2>
      <div class="match-info">로딩 중...</div>
    </section>
  </main>

  <!-- 하단 네비게이션 -->
  <nav class="bottom-nav">
    <button onclick="location.href='main.html'">메인</button>
    <button onclick="location.href='schedule.html'">일정</button>
    <button onclick="location.href='records.html'">기록</button>
    <button onclick="location.href='players.html'" class="active">선수</button>
  </nav>

  <script>
    fetch('schedule.json')
      .then(response => response.json())
      .then(data => {
        const matches = data['2025'];
        const now = new Date();

        // 다음 경기: 아직 진행되지 않은 가장 가까운 경기
        const upcoming = matches
          .filter(m => new Date(m.date + 'T' + m.time) > now)
          .sort((a, b) => new Date(a.date + 'T' + a.time) - new Date(b.date + 'T' + b.time));
        const next = upcoming[0];

        // 최근 경기: 이미 진행된 가장 최근 경기
        const past = matches
          .filter(m => new Date(m.date + 'T' + m.time) < now)
          .sort((a, b) => new Date(b.date + 'T' + b.time) - new Date(a.date + 'T' + a.time));
        const recent = past[0];

        // 경기 HTML 생성 함수
        const formatMatch = m => {
          const date = m.date;
          const time = m.time;
          const opp = m.opponent;
          const loc = m.location;
          const type = m.type;
          let html = `<p class="match-date">${date} ${time}</p>`;
          html += `<p>상대: ${opp}</p>`;
          html += `<p>장소: ${loc}</p>`;
          html += `<p>리그: ${type}</p>`;
          return html;
        };

        // 다음 경기 박스 업데이트
        const nextBox = document.querySelector('#next-match .match-info');
        if (next) {
          nextBox.innerHTML = formatMatch(next);
        } else {
          nextBox.innerHTML = '<p>예정된 경기가 없습니다.</p>';
        }

        // 최근 경기 박스 업데이트
        const recentBox = document.querySelector('#recent-match .match-info');
        if (recent) {
          let html = formatMatch(recent);
          html += `<p>점수: ${recent.score} (${recent.result})</p>`;
          recentBox.innerHTML = html;
        } else {
          recentBox.innerHTML = '<p>경기 기록이 없습니다.</p>';
        }
      })
      .catch(err => {
        console.error('경기 데이터를 불러오지 못했습니다:', err);
      });
  </script>
    <!-- 하단 네비게이션 (모든 페이지 동일하게) -->
  <nav class="bottom-nav">
    <button class="nav-btn" onclick="location.href='index.html'">메인</button>
    <button class="nav-btn" onclick="location.href='schedule.html'">일정</button>
    <button class="nav-btn" onclick="location.href='records.html'">기록</button>
    <button class="nav-btn active" onclick="location.href='players.html'">선수</button>
  </nav>

</body>
</html>
